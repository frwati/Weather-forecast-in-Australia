schema: '2.0'
stages:
  splitting:
    cmd: python src/data/split_data.py
    deps:
    - path: data/raw_data/current.csv
      hash: md5
      md5: a65cf8b8719b1a65db4f361eeec18457
      size: 14094055
    - path: src/data/split_data.py
      hash: md5
      md5: fc215990f802831ea44bdd48064ab7c0
      size: 3665
    outs:
    - path: data/split_data/X_test.csv
      hash: md5
      md5: 51fd6a66f547160c336a345782450585
      size: 2432450
    - path: data/split_data/X_train.csv
      hash: md5
      md5: 46ab883790f3f5955f7d1b6a5486576a
      size: 9728673
    - path: data/split_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/split_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
  normalize_data:
    cmd: python src/data/normalize_data.py
    deps:
    - path: data/split_data
      hash: md5
      md5: 822ac471b3b94d7563256dd6550d7e11.dir
      size: 12410485
      nfiles: 5
    - path: src/data/normalize_data.py
      hash: md5
      md5: 1b35c37c45cc54b46326ec157504bb05
      size: 3571
    outs:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/X_train_scaled.csv
      hash: md5
      md5: c52a1f02caaddceff25a470fb9d66cb5
      size: 26148896
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/normalized_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
  grid_search:
    cmd: python src/models/grid_search.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/X_train_scaled.csv
      hash: md5
      md5: c52a1f02caaddceff25a470fb9d66cb5
      size: 26148896
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/normalized_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
    - path: src/models/grid_search.py
      hash: md5
      md5: aa28315d5dd0f1df00f87cf19f3921e3
      size: 2842
    outs:
    - path: models/best_parameters/best_params.pkl
      hash: md5
      md5: cf761cfab7bf6571f5ad4a1e79f72051
      size: 89
  train_model:
    cmd: python src/models/train_model.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/X_train_scaled.csv
      hash: md5
      md5: c52a1f02caaddceff25a470fb9d66cb5
      size: 26148896
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/normalized_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
    - path: models/best_parameters/best_params.pkl
      hash: md5
      md5: cf761cfab7bf6571f5ad4a1e79f72051
      size: 89
    - path: src/models/train_model.py
      hash: md5
      md5: c5466ea5c59546554f435ca308662051
      size: 2553
    outs:
    - path: models/saved_models/trained_model.pkl
      hash: md5
      md5: f106fc5409fa9dcaa9558704e2277694
      size: 339501945
  evaluate_model:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: models/saved_models/trained_model.pkl
      hash: md5
      md5: 41a728972268d86086ae8a9fedd8529d
      size: 339199385
    - path: src/models/evaluate_model.py
      hash: md5
      md5: a1733d650a0976967bad60bf10ccd0e0
      size: 6624
    outs:
    - path: metrics/predictions.csv
      hash: md5
      md5: d2e254edcd34df085d066acd1897b050
      size: 49891
    - path: metrics/scores.json
      hash: md5
      md5: b506e39ecb29c220a68b52bc0dba8089
      size: 158
  ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: da11e2f6e07ee9ebe7b83bb23689a8de
      size: 3210
    outs:
    - path: data/raw_data/current.csv
      hash: md5
      md5: a65cf8b8719b1a65db4f361eeec18457
      size: 14094055
    - path: data/raw_data/reference.csv
      hash: md5
      md5: a65cf8b8719b1a65db4f361eeec18457
      size: 14094055
  data_drift:
    cmd: python src/data/drift_monitoring.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: src/data/drift_monitoring.py
      hash: md5
      md5: 2b485b1e923a979029f4d5e628462830
      size: 4064
    outs:
    - path: metrics/data_drift.json
      hash: md5
      md5: e832cee58c7131e52dbd0bc909a87fe0
      size: 692028
    - path: reports/data_drift.html
      hash: md5
      md5: c2c25c455c6cd372120204da5a8221a2
      size: 4074713

schema: '2.0'
stages:
  splitting:
    cmd: python src/data/split_data.py
    deps:
    - path: data/raw_data/current.csv
      hash: md5
      md5: a65cf8b8719b1a65db4f361eeec18457
      size: 14094055
    - path: src/data/split_data.py
      hash: md5
      md5: 118d3c282c48689d9abee1b218b565c5
      size: 5163
    outs:
    - path: data/split_data/X_test.csv
      hash: md5
      md5: 51fd6a66f547160c336a345782450585
      size: 2432450
    - path: data/split_data/X_train.csv
      hash: md5
      md5: 46ab883790f3f5955f7d1b6a5486576a
      size: 9728673
    - path: data/split_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/split_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
  normalize_data:
    cmd: python src/data/normalize_data.py
    deps:
    - path: data/split_data
      hash: md5
      md5: 822ac471b3b94d7563256dd6550d7e11.dir
      size: 12410485
      nfiles: 5
    - path: src/data/normalize_data.py
      hash: md5
      md5: 46ca05a8d4049b84c7e5d07a70eac902
      size: 4602
    outs:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/X_train_scaled.csv
      hash: md5
      md5: c52a1f02caaddceff25a470fb9d66cb5
      size: 26148896
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/normalized_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
  grid_search:
    cmd: python src/models/grid_search.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/X_train_scaled.csv
      hash: md5
      md5: c52a1f02caaddceff25a470fb9d66cb5
      size: 26148896
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/normalized_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
    - path: src/models/grid_search.py
      hash: md5
      md5: 339e5c144773554c7b756f494ac22198
      size: 3241
    outs:
    - path: models/best_parameters/best_params.pkl
      hash: md5
      md5: cf761cfab7bf6571f5ad4a1e79f72051
      size: 89
  train_model:
    cmd: python src/models/train_model.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/X_train_scaled.csv
      hash: md5
      md5: c52a1f02caaddceff25a470fb9d66cb5
      size: 26148896
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: data/normalized_data/y_train.csv
      hash: md5
      md5: 7fc26e94ab2159282326693efe044007
      size: 199481
    - path: models/best_parameters/best_params.pkl
      hash: md5
      md5: cf761cfab7bf6571f5ad4a1e79f72051
      size: 89
    - path: src/models/train_model.py
      hash: md5
      md5: 0ed5f7c902ae572426c1cc5d9a5c7547
      size: 2919
    outs:
    - path: models/saved_models/trained_model.pkl
      hash: md5
      md5: 41a728972268d86086ae8a9fedd8529d
      size: 339199385
  evaluate_model:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: models/saved_models/trained_model.pkl
      hash: md5
      md5: 41a728972268d86086ae8a9fedd8529d
      size: 339199385
    - path: src/models/evaluate_model.py
      hash: md5
      md5: a1733d650a0976967bad60bf10ccd0e0
      size: 6624
    outs:
    - path: metrics/predictions.csv
      hash: md5
      md5: d2e254edcd34df085d066acd1897b050
      size: 49891
    - path: metrics/scores.json
      hash: md5
      md5: b506e39ecb29c220a68b52bc0dba8089
      size: 158
  ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 9a4a3d34512524273716bdc09aa81097
      size: 2991
    outs:
    - path: data/raw_data/current.csv
      hash: md5
      md5: a65cf8b8719b1a65db4f361eeec18457
      size: 14094055
    - path: data/raw_data/reference.csv
      hash: md5
      md5: a65cf8b8719b1a65db4f361eeec18457
      size: 14094055
  data_drift:
    cmd: python src/data/drift_monitoring.py
    deps:
    - path: data/normalized_data/X_test_scaled.csv
      hash: md5
      md5: 9c1a88b5c8f57971104e806be1c1ba08
      size: 6537334
    - path: data/normalized_data/y_test.csv
      hash: md5
      md5: 355bbd45cf62542833633e30160be9b8
      size: 49881
    - path: src/data/drift_monitoring.py
      hash: md5
      md5: 2b485b1e923a979029f4d5e628462830
      size: 4064
    outs:
    - path: metrics/data_drift.json
      hash: md5
      md5: e832cee58c7131e52dbd0bc909a87fe0
      size: 692028
    - path: reports/data_drift.html
      hash: md5
      md5: c2c25c455c6cd372120204da5a8221a2
      size: 4074713
